<link rel="stylesheet" href="//assets.ziggeo.com/css/ziggeo-betajs-player.min.css" />
<script src="//assets.ziggeo.com/js/ziggeo-json2-betajs-player.min.js"></script>
<script>ZiggeoApi.token = "b6c4129db684db7a9940606cad1a0c75";</script>
<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>

<%= form_for(@mentor) do |f| %>
  <% if @mentor.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@mentor.errors.count, "error") %> prohibited this mentor from being saved:</h2>

      <ul>
      <% @mentor.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>



  <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :picture %><br>
    <%= f.text_field :picture %>
  </div>
  <div class="field">
    <%= f.label :description %><br>
    <%= f.text_field :description %>
  </div>



  <div class="field">
    <%= f.label :skills %><br>
    <%= f.text_area :skills %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>

  <div id="vid_token">

  </div>

    <!-- Record Video -->
    <ziggeo ziggeo-width=320
            ziggeo-height=240>
    </ziggeo>

    <script type="text/javascript">
      ZiggeoApi.Events.on("submitted", function (data) {
      alert("Submitted a new video with token '" + data.video.token + "'!");
      $("<input>").attr({
        type: 'hidden',
        name: 'mentors[ziggeo_field]',
        value: data.video.token
      }).appendTo('#vid_token');
      });



    </script>
<% end %>
